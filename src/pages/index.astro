---
// Starlight Page Wrapper to keep the Navbar but have a custom landing
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro';
import ChangelogList from '../components/ChangelogList.astro';
---

<StarlightPage frontmatter={{ title: 'SEOCHO', template: 'splash' }} hasSidebar={false}>
  
  <main class="relative min-h-screen text-accent w-full flex flex-col items-center overflow-x-hidden font-sans pb-24">
    
    <!-- Background subtle glows -->
    <div class="absolute inset-0 bg-glow-gradient opacity-40 pointer-events-none -z-10"></div>
    <div class="absolute top-24 left-1/4 w-96 h-96 bg-violet-500/10 blur-[120px] rounded-full pointer-events-none -z-10"></div>
    <div class="absolute top-64 right-1/4 w-96 h-96 bg-fuchsia-500/10 blur-[120px] rounded-full pointer-events-none -z-10"></div>

    <!-- Hero Section -->
    <section class="max-w-5xl mx-auto px-6 pt-32 pb-24 flex flex-col items-center text-center animate-fade-up">
      <div class="inline-flex items-center px-3 py-1 rounded-full border border-white/10 bg-white/5 backdrop-blur-md text-sm text-muted mb-8 cursor-default">
        <span class="mr-2">âœ¨</span> Open Source Agent-Driven Knowledge Graph Platform
      </div>
      
      <h1 class="text-5xl md:text-7xl font-bold tracking-tight text-white mb-6 leading-tight">
        Transform unstructured data <br/> into <span class="text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-fuchsia-500">structured knowledge.</span>
      </h1>
      
      <p class="text-lg md:text-xl text-muted max-w-2xl mb-10 leading-relaxed font-light">
        SEOCHO combines dynamic Neo4j provisioning with <strong>Parallel Debate</strong> â€” orchestrating multi-perspective reasoning where specialized AI agents work together to extract and structure knowledge.
      </p>
      
      <div class="flex flex-col sm:flex-row gap-4 w-full sm:w-auto">
        <a href="/docs/index/" class="inline-flex justify-center items-center px-6 py-3 rounded-md bg-white text-black font-medium hover:bg-gray-200 transition-colors shadow-[0_0_20px_rgba(255,255,255,0.15)]">
          Read the Docs
        </a>
        <a href="https://github.com/tteon/seocho" target="_blank" class="inline-flex justify-center items-center px-6 py-3 rounded-md bg-surface border border-white/10 text-white font-medium hover:bg-white/10 transition-colors">
          <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd" /></svg>
          View on GitHub
        </a>
      </div>
    </section>

    <!-- Quickstart Section -->
    <section class="max-w-4xl mx-auto px-6 py-12 w-full animate-fade-up delay-100">
      <div class="mb-8 text-center md:text-left">
        <h2 class="text-3xl font-semibold text-white mb-2">Quickstart</h2>
        <p class="text-muted text-lg">Get up and running locally in under 5 minutes.</p>
      </div>
      
      <div class="bg-surface/50 border border-white/5 rounded-xl overflow-hidden backdrop-blur-sm p-6 md:p-8 space-y-6">
        <div>
          <h3 class="text-white font-medium mb-2">1. Clone & Configure</h3>
          <div class="bg-black/50 border border-white/10 rounded-md p-4 text-sm font-mono text-gray-300">
            git clone https://github.com/tteon/seocho.git<br/>
            cd seocho && cp .env.example .env
          </div>
        </div>
        <div>
          <h3 class="text-white font-medium mb-2">2. Spin Up Services</h3>
          <div class="bg-black/50 border border-white/10 rounded-md p-4 text-sm font-mono text-gray-300">
            make up
          </div>
        </div>
        <div>
          <h3 class="text-white font-medium mb-2">3. Execute Debate Query</h3>
          <div class="bg-black/50 border border-white/10 rounded-md p-4 text-sm font-mono text-gray-300 whitespace-pre">
            curl -X POST http://localhost:8001/run_debate \
              -H "Content-Type: application/json" \
              -d '{"{"}"query": "What relationships are in the database?"{"}"}'
          </div>
        </div>
      </div>
    </section>

    <!-- Use-Cases Section -->
    <section class="max-w-6xl mx-auto px-6 py-20 w-full animate-fade-up delay-200">
      <div class="mb-12 text-center md:text-left">
        <h2 class="text-3xl font-semibold text-white mb-4">Use Cases</h2>
        <p class="text-muted text-lg max-w-2xl">Adaptable to any unstructured data domain.</p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="p-8 rounded-2xl bg-surface border border-white/5 backdrop-blur-sm">
          <div class="w-12 h-12 rounded-lg bg-emerald-500/10 border border-emerald-500/20 flex items-center justify-center mb-6">
            <span class="text-xl">ðŸ“ˆ</span>
          </div>
          <h3 class="text-xl font-medium text-white mb-2">Financial Intel</h3>
          <p class="text-muted text-sm leading-relaxed">Consume SEC filings using `fibo.yaml` to instantly draw relational networks of market correlations, organizational hierarchies, and asset clusters.</p>
        </div>

        <div class="p-8 rounded-2xl bg-surface border border-white/5 backdrop-blur-sm">
          <div class="w-12 h-12 rounded-lg bg-pink-500/10 border border-pink-500/20 flex items-center justify-center mb-6">
            <span class="text-xl">ðŸ§¬</span>
          </div>
          <h3 class="text-xl font-medium text-white mb-2">Clinical Extraction</h3>
          <p class="text-muted text-sm leading-relaxed">Map interactions between drugs, symptoms, and side-effects from clinical trial PDFs directly into a standalone, queryable DozerDB.</p>
        </div>
      </div>
    </section>

    <!-- Architecture Section -->
    <section class="max-w-6xl mx-auto px-6 py-20 w-full animate-fade-up delay-300">
      <div class="mb-12 text-center md:text-left">
        <h2 class="text-3xl font-semibold text-white mb-4">Architecture</h2>
        <p class="text-muted text-lg max-w-2xl">From ingestion to agent debate routing.</p>
      </div>

      <div class="bg-surface border border-white/5 rounded-2xl overflow-hidden backdrop-blur-sm p-4 md:p-8 flex justify-center items-center shadow-lg text-xs md:text-sm">
        <pre class="mermaid bg-transparent mx-auto">
graph TD
    classDef external fill:transparent,stroke:#52525B,stroke-width:1px,stroke-dasharray:5 5,color:#A1A1AA
    classDef pipeline fill:#3a82f61a,stroke:#3A82F6,stroke-width:1px,color:#60A5FA
    classDef db fill:#10b9811a,stroke:#10B981,stroke-width:1px,color:#34D399
    classDef agent fill:#6366f11a,stroke:#6366F1,stroke-width:1px,color:#818CF8
    classDef user fill:transparent,stroke:none,color:#E4E4E7,font-weight:bold

    User(("User Query")):::user
    subgraph DataPlane["Extraction Pipeline"]
        DS["Sources"]:::external-->Extractor["LLM Extractor"]:::pipeline
        Extractor-->Linker["Entity Linker"]:::pipeline
        Linker-->DBManager["DB Manager"]:::pipeline
    end
    subgraph ControlPlane["Parallel Debate Orchestrator"]
        Router["Router"]:::agent
        Agent1["Agent 1"]:::agent
        Agent2["Agent 2"]:::agent
        Supervisor["Supervisor"]:::agent
    end
    Neo4j[("Neo4j DBs")]:::db

    DBManager --> Neo4j
    User --> Router
    Router -->|Fan-Out| Agent1
    Router -->|Fan-Out| Agent2
    Agent1 -.-> Neo4j
    Agent2 -.-> Neo4j
    Agent1 -->|Collect| Supervisor
    Agent2 -->|Collect| Supervisor
    Supervisor -->|Final Answer| User
        </pre>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="max-w-4xl mx-auto px-6 py-20 w-full animate-fade-up delay-300">
      <div class="mb-8 text-center">
        <h2 class="text-3xl font-semibold text-white mb-2">Frequently Asked Questions</h2>
      </div>
      <div class="space-y-4">
        <details class="group bg-surface/50 border border-white/5 p-6 rounded-xl cursor-pointer">
          <summary class="flex justify-between items-center text-white font-medium list-none">
            What is Parallel Debate?
            <span class="transition group-open:rotate-180">â†“</span>
          </summary>
          <p class="text-muted text-sm mt-4 leading-relaxed">It's our orchestration model where we spin up multiple isolated LLM agents. They query the graph simultaneously on their own thoughts, and a Supervisor agent evaluates their conflicting conclusions to give the user the best answer.</p>
        </details>
        
        <details class="group bg-surface/50 border border-white/5 p-6 rounded-xl cursor-pointer">
          <summary class="flex justify-between items-center text-white font-medium list-none">
            Why do I need dynamic databases?
            <span class="transition group-open:rotate-180">â†“</span>
          </summary>
          <p class="text-muted text-sm mt-4 leading-relaxed">Unlike monolithic DBs, SEOCHO provisions isolated Neo4j instances for distinct datasets, enforcing physical boundaries and protecting schema integrity per topic.</p>
        </details>
        
        <details class="group bg-surface/50 border border-white/5 p-6 rounded-xl cursor-pointer">
          <summary class="flex justify-between items-center text-white font-medium list-none">
            Does it integrate with existing Neo4j?
            <span class="transition group-open:rotate-180">â†“</span>
          </summary>
          <p class="text-muted text-sm mt-4 leading-relaxed">Yes. While we default to Dockerized DozerDB, SEOCHO's Data Pipeline can map entities and insert into any standard Neo4j graph using the Bolt protocol.</p>
        </details>
        
        <details class="group bg-surface/50 border border-white/5 p-6 rounded-xl cursor-pointer">
          <summary class="flex justify-between items-center text-white font-medium list-none">
            What observability tools are used?
            <span class="transition group-open:rotate-180">â†“</span>
          </summary>
          <p class="text-muted text-sm mt-4 leading-relaxed">We natively integrate with Opik to provide complete tracing of the prompt payloads, token usage, latency, and full visibility into the agent's thought tree.</p>
        </details>
      </div>
    </section>

    <!-- Updates Section -->
    <section class="max-w-4xl mx-auto px-6 py-12 w-full animate-fade-up delay-300">
      <div class="flex items-end justify-between border-b border-white/10 pb-6 mb-8">
        <div>
          <h2 class="text-2xl font-semibold text-white mb-2">Latest Updates</h2>
          <p class="text-muted text-sm">Synced directly from GitHub Releases and Commits.</p>
        </div>
        <a href="/changelog/" class="text-sm text-accent hover:text-white transition-colors">View All â†’</a>
      </div>

      <!-- Imported Astro Component feeds off updates.json -->
      <ChangelogList />
      
    </section>
  </main>
</StarlightPage>

<style>
:global(.sl-container) {
  max-width: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
}
:global(.sl-markdown-content) {
  display: contents !important;
}
</style>

<script type="module">
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ startOnLoad: true, theme: 'dark', backgroundColor: 'transparent' });
</script>
